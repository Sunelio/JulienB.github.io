;/*FB_PKG_DELIM*/

__d("MAWIndexedDbMetadata",[],(function(a,b,c,d,e,f){"use strict";var g="v1",h="v1",i="v1",j="v1",k="v1",l="v1",m="messenger_web_"+g,n="messenger_web_v3",o="messenger_web_encryption_"+h,p="messenger_web_signal_"+i,q="messenger_web_log_"+j,r="messenger_web_eb_lsdb_"+k,s="messenger_web_fts_"+l;function a(a){return m+"_"+a}function b(a){return s+"_"+a}function c(a){return n+"_"+a}function d(a){return o+"_"+a}function e(a){return p+"_"+a}function t(a){return q+"_"+a}function u(a){return r+"_"+a}f.dbName=a;f.ftsDbName=b;f.restoreDbName2=c;f.encryptionDbName=d;f.signalDbName=e;f.logDbName=t;f.ebLSDBName=u}),66);
__d("MAWLowLevelApiTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a={EXISTING_GROUP_INVITE:"existing_group_invite",MISSING_GROUP:"missing_group"};c={EXPIRED_GROUP_INVITE:"expired_group_invite",MISSING_GROUP:"missing_group",MISSING_GROUP_INVITE:"missing_group_invite"};d=b("$InternalEnum")({Initializing:"initializing",Open:"open",Closed:"closed",Error:"error",Upgrading:"upgrading"});f.WRITE_GROUP_INVITE_ERROR=a;f.GET_GROUP_INVITE_ERROR=c;f.DatabaseState=d}),66);
__d("WAErr",[],(function(a,b,c,d,e,f){"use strict";function a(a){a=new Error(a);if(a.stack===void 0)try{throw a}catch(a){}return a}f["default"]=a}),66);
__d("MAWGetWorkerStatusApi",["MAWLowLevelApiTypes","Promise","WAResultOrError","WATagsLogger","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Worker Status: ",""]);i=function(){return a};return a}var j=d("WATagsLogger").TAGS(["WorkerStatus"]),k="initializing",l="disconnected",m={},n=[],o=function(){if(l==="disconnected")return(h||(h=b("Promise"))).resolve(d("WAResultOrError").makeError("comms_disconnected"));var a=Object.values(m).some(function(a){a=a.status;return a===d("MAWLowLevelApiTypes").DatabaseState.Error||a===d("MAWLowLevelApiTypes").DatabaseState.Closed});if(a)return(h||(h=b("Promise"))).resolve(d("WAResultOrError").makeError("database_failure"));a=d("WAResultOrError").makeResult({comms:l,databases:m,startup:k});j.LOG(i(),JSON.stringify(a));return(h||(h=b("Promise"))).resolve(a)};function p(){c("promiseDone")(o(),function(a){n.forEach(function(b){return b(a)})})}function a(a){n.push(a),c("promiseDone")(o(),function(b){return a(b)})}function e(a){l=a,p()}function f(a){k=a,p()}function q(a,b){m[a]=babelHelpers["extends"]({},m[a],{status:b}),p()}function r(a,b){m[a]=babelHelpers["extends"]({},m[a],{api:b}),p()}function s(a){return m[a]}g.getWorkerStatus=o;g.onWorkerStateChange=a;g.setCommsStatus=e;g.updateWorkerStatus=f;g.setDatabaseStatus=q;g.setDatabaseApi=r;g.getDatabaseMetadata=s}),98);
__d("IGDWebUtils",["CurrentUserInitialData"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){return a!=null?a===1217981644879628||a===936619743392459||a===487152425211411||a===1035956773910536:!1}function a(){return i(Number((h||(h=c("CurrentUserInitialData"))).APP_ID))}g.isInstagramWebSupportedApp=i;g.isOnInstagramWeb=a}),98);
__d("MAWCurrentUser",["CurrentUserInitialData","FBLogger","IGDWebUtils","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){var a=Number(i());if(a===772021112871879||a===2220391788200892||a===256281040558)return k();else if(d("IGDWebUtils").isInstagramWebSupportedApp(a))return j();return k()}function i(){return(h||(h=d("CurrentUserInitialData"))).APP_ID}function b(){return c("gkx")("24028")}function e(){return!!(h||(h=d("CurrentUserInitialData"))).IS_EMPLOYEE}function j(){var a;((a=(h||(h=d("CurrentUserInitialData"))).IG_USER_EIMU)!=null?a:"0")==="0"&&c("FBLogger")("messenger_e2ee_web").warn("EIMU is null");return(a=(h||(h=d("CurrentUserInitialData"))).IG_USER_EIMU)!=null?a:"0"}function k(){if((h||(h=d("CurrentUserInitialData"))).USER_ID==="0"){var a=i();c("FBLogger")("messenger_e2ee_web").warn("FBID is null with appId %s",a)}return(h||(h=d("CurrentUserInitialData"))).USER_ID}g.getID=a;g.getAppID=i;g.isTlcPublicUser=b;g.isEmployee=e}),98);
__d("MAWEBSwitch",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=!0}var b=a.prototype;b.set=function(a){this.$1=a;return this.$1};b.isEnabled=function(){return this.$1};return a}();b=new a();c=b;f["default"]=c}),66);
__d("cometIsMimeTypeForMedia",["FBLogger","UFICommentFileInputAcceptValues"],(function(a,b,c,d,e,f,g){"use strict";var h={file:null,photo:null,video:null},i={"image/gif":"video","image/webp":"video"};function j(a){return a.split(",").map(function(a){return a.trim()}).map(function(a){return a.replace(/\/\*$/,"/")})}function k(a,b,d){h[a]==null&&(h[a]=j(d));d=h[a];if(d==null)throw c("FBLogger")("ufi2").mustfixThrow("CometIsMimeTypeForMedia prefixes can't be null");var e=i[b];return e!=null?e===a:d.some(function(a){return b.startsWith(a)})}function a(a){return k("photo",a,d("UFICommentFileInputAcceptValues").photos)}function b(a){return k("video",a,d("UFICommentFileInputAcceptValues").videos)}function e(a){return k("file",a,d("UFICommentFileInputAcceptValues").files)}g.mimeTypeAcceptStringToArray=j;g.isMimeTypeForPhoto=a;g.isMimeTypeForVideo=b;g.isMimeTypeForFile=e}),98);
__d("QPLAddBlueRequestHeaders",["Arbiter","QuickPerformanceLogger"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){c("Arbiter").subscribe("AsyncRequest/will_send",function(a,b){a=b.request;b=(h||(h=c("QuickPerformanceLogger"))).getActiveMarkerIds({type:2});b.length>0&&a.setRequestHeader("X-FB-QPL-Active-Flows",b.sort().join(","))})}g["default"]=a}),98);
__d("QPLUserFlow",["ErrorMetadata","ErrorPubSub","QPLEvent","QPLJoinUtils","QuickPerformanceLogger","cr:1752405"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=typeof window!=="undefined"?window:self;function l(a,b){if(b===null){var c;return(c=a)!=null?c:null}a=(c=a)!=null?c:{};a.string||(a.string={});a.string.uf_debug_info=b;return a}a=function(){function a(){var a=this;b("cr:1752405")();(j||(j=c("ErrorPubSub"))).unshiftListener(function(b){if(b.type!=="fatal")return;var d=a.getActiveFlowIDs();if(d.length===0)return;var e=new(c("ErrorMetadata"))();e.clearEntries();d.forEach(function(a){e.addEntry("QPL","ACTIVE_FLOW_ID",a.toString())});d=e.format();b.metadata?b.metadata=[].concat(b.metadata,d):b.metadata=d});this.$1=new Map()}var e=a.prototype;e.$2=function(a,b,c,e,f){var g=this,i;if(e==null)return;e=k.setTimeout(function(){f!=null&&f(a,b,c),g.endTimeout(a,{instanceKey:b,joinID:c})},e);this.$1.has((h||(h=d("QPLEvent"))).getMarkerId(a))||this.$1.set((h||(h=d("QPLEvent"))).getMarkerId(a),new Map());(i=this.$1.get((h||(h=d("QPLEvent"))).getMarkerId(a)))==null?void 0:i.set(b,e)};e.start=function(a,b){b=b===void 0?{}:b;var e=b.instanceKey;e=e===void 0?0:e;var f=b.annotations,g=b.cancelExisting;g=g===void 0?!1:g;var h=b.cancelOnUnload;h=h===void 0?!0:h;var j=b.timestamp,k=b.trackedForLoss;k=k===void 0?!0:k;var l=b.joinID,m=b.timeoutInMs,n=b.onFlowTimeout;b=b.qplInternalDoNotUseAbsoluteTimeOrigin;(i||(i=c("QuickPerformanceLogger"))).markerStart(a,e,j,{cancelExisting:g,cancelOnUnload:h,trackedForLoss:k,type:2,samplingBasis:l,qplInternalDoNotUseAbsoluteTimeOrigin:b});this.$2(a,e,l,m,n);f&&(i||(i=c("QuickPerformanceLogger"))).markerAnnotate(a,f,{instanceKey:e});l!=null&&(d("QPLJoinUtils").setJoinId(i||(i=c("QuickPerformanceLogger")),a,l,{instanceKey:e}),d("QPLJoinUtils").markJoinRequest(i,a,l,{instanceKey:e}))};e.startForJoin=function(a,b,d){d=d===void 0?{}:d;var e=d.instanceKey;e=e===void 0?0:e;var f=d.annotations,g=d.cancelExisting;g=g===void 0?!1:g;var h=d.cancelOnUnload;h=h===void 0?!0:h;var j=d.trackedForLoss;j=j===void 0?!0:j;var k=d.timeoutInMs,l=d.onFlowTimeout,m=d.qplInternalDoNotUseAbsoluteTimeOrigin,n=d.monotonicTimestamp,o=d.absoluteTimeOriginMs,p=d.sourceIsPrimary,q=d.closeSession;d=d.unreliableSourceClockProcessId;(i||(i=c("QuickPerformanceLogger"))).markerStartForJoin(a,b,{instanceKey:e,cancelExisting:g,cancelOnUnload:h,trackedForLoss:j,type:2,qplInternalDoNotUseAbsoluteTimeOrigin:m,monotonicTimestamp:n,absoluteTimeOriginMs:o,sourceIsPrimary:p,closeSession:q,unreliableSourceClockProcessId:d});this.$2(a,e,b,k,l);f&&(i||(i=c("QuickPerformanceLogger"))).markerAnnotate(a,f,{instanceKey:e})};e.addAlignmentPointForJoin=function(a,b,d){d=d===void 0?{}:d;var e=d.instanceKey,f=d.requestId;d=d.timestamp;(i||(i=c("QuickPerformanceLogger"))).addAlignmentPointForJoin(a,b,{instanceKey:e,requestId:f,timestamp:d})};e.startFromNavStart=function(a,b){b=b===void 0?{}:b;var d=b.instanceKey;d=d===void 0?0:d;var e=b.annotations,f=b.cancelExisting;f=f===void 0?!1:f;var g=b.cancelOnUnload;g=g===void 0?!0:g;var h=b.trackedForLoss;h=h===void 0?!0:h;var j=b.joinID,k=b.timeoutInMs,l=b.onFlowTimeout;b=b.qplInternalDoNotUseConvertToTimeOnServer;(i||(i=c("QuickPerformanceLogger"))).markerStartFromNavStart(a,d,{cancelExisting:f,cancelOnUnload:g,trackedForLoss:h,type:2,samplingBasis:j,qplInternalDoNotUseConvertToTimeOnServer:b});this.$2(a,d,j,k,l);e&&(i||(i=c("QuickPerformanceLogger"))).markerAnnotate(a,e,{instanceKey:d})};e.endSuccess=function(a,b){b=b===void 0?{}:b;var c=b.instanceKey;c=c===void 0?0:c;var d=b.annotations,e=b.joinID;b=b.timestamp;this.$3(a,2,c,e,d,b)};e.endFailure=function(a,b,c){c=c===void 0?{}:c;var d=c.instanceKey;d=d===void 0?0:d;var e=c.debugInfo,f=c.annotations,g=c.joinID,h=c.timestamp;c=c.error;this.markError(a,b,{debugInfo:e,instanceKey:d,error:c});this.$3(a,3,d,g,f,h)};e.endValidationFailure_DO_NOT_USE=function(a,b){b=b===void 0?{}:b;var c=b.instanceKey;c=c===void 0?0:c;var d=b.debugInfo,e=b.annotations,f=b.joinID;b=b.timestamp;this.markError(a,"validation_failed",{debugInfo:d,instanceKey:c});this.$3(a,7952,c,f,e,b)};e.endTimeout=function(a,b){b=b===void 0?{}:b;var c=b.instanceKey;c=c===void 0?0:c;var d=b.annotations,e=b.joinID;b=b.timestamp;this.$3(a,113,c,e,d,b)};e.endCancel=function(a,b){b=b===void 0?{}:b;var c=b.instanceKey;c=c===void 0?0:c;var d=b.cancelReason;d=d===void 0?4:d;var e=b.annotations,f=b.joinID;b=b.timestamp;this.$3(a,d,c,f,e,b)};e.$3=function(a,b,e,f,g,j){var l;l=(l=this.$1.get((h||(h=d("QPLEvent"))).getMarkerId(a)))==null?void 0:l.get(e);if(l!=null){k.clearTimeout(l);(l=this.$1.get((h||(h=d("QPLEvent"))).getMarkerId(a)))==null?void 0:l["delete"](e)}g&&(i||(i=c("QuickPerformanceLogger"))).markerAnnotate(a,g,{instanceKey:e});f!=null&&(j!=null?d("QPLJoinUtils").markJoinResponse(i||(i=c("QuickPerformanceLogger")),a,f,{instanceKey:e,timestamp:j}):d("QPLJoinUtils").markJoinResponse(i||(i=c("QuickPerformanceLogger")),a,f,{instanceKey:e}));j!=null?(i||(i=c("QuickPerformanceLogger"))).markerEnd(a,b,e,j):(i||(i=c("QuickPerformanceLogger"))).markerEnd(a,b,e)};e.addAnnotations=function(a,b,d){d=d===void 0?{}:d;d=d.instanceKey;(i||(i=c("QuickPerformanceLogger"))).markerAnnotate(a,b,{instanceKey:d})};e.addPoint=function(a,b,d){d=d===void 0?{}:d;var e=d.instanceKey,f=d.debugInfo,g=d.data;d=d.timestamp;f=l(g,(g=f)!=null?g:null);(i||(i=c("QuickPerformanceLogger"))).markerPoint(a,b,{data:f,instanceKey:e,timestamp:d})};e.markError=function(a,b,d){d=d===void 0?{}:d;var e=d.debugInfo,f=d.instanceKey;d=d.error;(i||(i=c("QuickPerformanceLogger"))).markerAnnotate(a,babelHelpers["extends"]({},this.$4(d),{bool:(d={},d.uf_has_error=!0,d)}),{instanceKey:f});this.addPoint(a,b,{debugInfo:e,instanceKey:f})};e.storeBeforeNavigation=function(a,b){b=b===void 0?{}:b;b=b.instanceKey;b=b===void 0?0:b;(i||(i=c("QuickPerformanceLogger"))).markerStoreBeforeNavigation(a,{instanceKey:b})};e.getActiveFlowIDs=function(){return(i||(i=c("QuickPerformanceLogger"))).getActiveMarkerIds({type:2})};e.$4=function(a){var b;if(a==null)return{};var c={"int":{},string:{}};c.string.uf_error_name=a.name;a=a;(a==null?void 0:(b=a.source)==null?void 0:b.code)!=null&&(c["int"].uf_graphql_error_code=a==null?void 0:a.source.code);if((a==null?void 0:(b=a.source)==null?void 0:(b=b.exception)==null?void 0:b["class"])!=null){c.string.uf_graphql_exception_class=a==null?void 0:(b=a.source)==null?void 0:(a=b.exception)==null?void 0:a["class"]}return c};return a}();e=new a();g["default"]=e}),98);
__d("XPlatReactEventEmitter",["BaseEventEmitter"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("BaseEventEmitter")}),98);
__d("BrowserLockManager",[],(function(a,b,c,d,e,f){"use strict";a=typeof window!=="undefined"?window:self;c=a==null?void 0:(b=a.navigator)==null?void 0:b.locks;f["default"]=c}),66);
__d("LockManager",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({Exclusive:"exclusive",Shared_NOT_IMPLEMENTED:"shared"});f.LockMode=a}),66);
__d("hasMultipleTabs",["BrowserLockManager","FBLogger","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h="multiple_tab_lock";function a(a){var d,e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:a===void 0&&(a=!0);f.prev=1;if(!c("BrowserLockManager")){f.next=11;break}f.next=5;return b("regeneratorRuntime").awrap(c("BrowserLockManager").query());case 5:d=f.sent;e=d.held.filter(function(a){return a.name===h}).length+d.pending.filter(function(a){return a.name===h}).length;a||e++;if(!(e>1)){f.next=10;break}return f.abrupt("return",!0);case 10:return f.abrupt("return",!1);case 11:return f.abrupt("return");case 14:f.prev=14;f.t0=f["catch"](1);c("FBLogger")("messenger_e2ee_web").catching(f.t0).warn("[MultipleTabsLogger] Fail to query lock manager");return f.abrupt("return");case 18:case"end":return f.stop()}},null,this,[[1,14]])}g.MULTIPLE_TAB_LOCK_NAME=h;g.hasMultipleTabs=a}),98);
__d("MultipleTabsLogger",["BrowserLockManager","InteractionTracingMetrics","LockManager","Promise","QPLUserFlow","hasMultipleTabs","memoizeOneWithArgs","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=!1,j=!1;function a(){return i}function k(){return d("hasMultipleTabs").hasMultipleTabs(j)}function l(){var a;return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:c.next=2;return b("regeneratorRuntime").awrap(k());case 2:a=c.sent;return c.abrupt("return",a!=null?a.toString():"undefined");case 4:case"end":return c.stop()}},null,this)}function e(a){void l().then(function(b){return c("InteractionTracingMetrics").addMetadata(a,"multipleTabs",b)})}function f(a,b){void l().then(function(d){b!==null?c("QPLUserFlow").addAnnotations(a,{string:{multipleTabs:d}},{instanceKey:b}):c("QPLUserFlow").addAnnotations(a,{string:{multipleTabs:d}})})}var m=c("memoizeOneWithArgs")(function(a){c("BrowserLockManager")&&(j=!0,void c("BrowserLockManager").request(d("hasMultipleTabs").MULTIPLE_TAB_LOCK_NAME,{mode:d("LockManager").LockMode.Exclusive},function(c){if(c){i=!0;return new(h||(h=b("Promise")))(function(b){if(a)return b(a())})}}))});g.hasUniqueLock=a;g.hasMultipleTabs=k;g.getMultipleTabsAnnotation=l;g.addAnnotationWithInteractionUuid=e;g.addAnnotationToQPLEvent=f;g.init=m}),98);